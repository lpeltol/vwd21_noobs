{"version":3,"sources":["sounds/shoot.mp3","components/duckHandler/DuckHandler.js","components/duckHandler/duckDown.png","components/duckHandler/duckUp.png","components/duckHandler/duckDead.png","drawUtils/draw.js","drawUtils/drawBackground.js","sounds/reload.wav","drawUtils/drawScoreboard.js","components/GameMenu/GameMenu.js","components/WebCam/WebCam.js","App.js","index.js"],"names":["imgDuckDown","Image","src","imgDuckUp","imgDuckDead","GAMESIZE","IMAGEWIDTH","width","IMAGEHEIGHT","height","DuckHandler","difficulty","this","DUCKS","escapeCount","killCount","Math","random","probability","push","Duck","ctx","forEach","duck","draw","updatePosition","index","y","splice","x","CreateShootingSound","dead","Audio","shoot","play","size","side","randomNumber","floor","pose","xSpeed","speed","ySpeed","counter","save","beginPath","translate","drawImage","flipImage","restore","img","scale","min","max","drawBackground","fillStyle","rect","fill","bullet","VIDEOSIZE","xPositions","yPositions","easy","medium","impossible","model","InitializeDucks","document","getElementById","style","display","gameOverMenu","startGameMenu","video","videoCanvas","videoCtx","getContext","gameCanvas","gameCtx","intervalId","setInterval","drawScene","videoWidth","videoHeight","sx","sy","clearRect","imgData","getImageData","detect","then","predictions","undefined","bbox","positions","calculateAveragePosition","ratio","KillDuck","reload","drawCrosshair","CreateNewDuck","DrawDucksAndUpdate","DeleteDucks","clearInterval","innerHTML","canvas","score","lives","livesLeft","boldness","textSize","font","fillText","drawScoreboard","SIZE","r","moveTo","arc","PI","lineTo","lineWidth","strokeStyle","stroke","length","reduce","a","b","GameMenu","id","header","body","onClick","buttonTxt","className","initBackground","WebCam","useState","setVideo","setModel","setDifficulty","useEffect","handpose","flipHorizontal","imageScaleFactor","maxNumBoxes","iouThreshold","scoreThreshold","querySelector","navigator","mediaDevices","getUserMedia","stream","srcObject","catch","error","console","log","StreamVideo","Fragment","autoPlay","htmlFor","onChange","e","target","value","onLoad","margin","App","ReactDOM","render","StrictMode"],"mappings":"2iBAAe,MAA0B,kCCMnCA,EAAc,IAAIC,MACxBD,EAAYE,ICPG,69BDQf,IAAMC,EAAY,IAAIF,MACtBE,EAAUD,IETK,i5BFUf,IAAME,EAAc,IAAIH,MACxBG,EAAYF,IGXG,q7BHYf,IIHIG,EJGEC,EAAaN,EAAYO,MACzBC,EAAcR,EAAYS,OAGXC,E,6GAGMC,GACnBC,KAAKC,MAAQ,GACbD,KAAKE,YAAc,EACnBF,KAAKG,UAAY,EACjBH,KAAKD,WAAaA,I,sCAKRK,KAAKC,SACJ,EAAIL,KAAKD,WAAWO,aAC3BN,KAAKC,MAAMM,KAAK,IAAIC,EAAKR,KAAKD,e,yCAKZU,GACtBT,KAAKC,MAAMS,SAAQ,SAAAC,GACfA,EAAKC,KAAKH,GACVE,EAAKE,sB,oCAKS,IAAD,OACjBb,KAAKC,MAAMS,SAAQ,SAACC,EAAMG,GAClBH,EAAKI,EAAI,EAAIJ,EAAKd,SAClB,EAAKI,MAAMe,OAAOF,EAAO,GACzB,EAAKZ,aAAe,Q,+BAMhBe,EAAGF,GAAI,IAAD,OAElBf,KAAKkB,sBAELlB,KAAKC,MAAMS,SAAQ,SAAAC,GACXM,EAAIN,EAAKM,GAAKA,EAAIN,EAAKM,EAAIN,EAAKhB,OAASoB,EAAIJ,EAAKI,GAAKA,EAAIJ,EAAKI,EAAIJ,EAAKd,SACzEc,EAAKQ,MAAO,EACZ,EAAKhB,WAAa,Q,4CAOT,IAAIiB,MAAMC,GAChBC,W,KAMbd,E,WAGF,WAAYT,GAAa,oBACrBC,KAAKuB,KAAOxB,EAAWwB,KACvBvB,KAAKwB,KAAQpB,KAAKC,SAAW,GAC7BL,KAAKmB,MAAO,EACZnB,KAAKiB,EAAMjB,KAAKwB,KAAsBxB,KAAKuB,KAAO7B,GAAzBA,EACzBM,KAAKe,EAAIf,KAAKyB,aAAarB,KAAKsB,MAAkB,GAAZ1B,KAAKuB,MAAavB,KAAKuB,MAC7DvB,KAAK2B,MAAO,EACZ3B,KAAK4B,OAAW5B,KAAKwB,MAAwCzB,EAAW8B,MAAQ7B,KAAKuB,KAAxDxB,EAAW8B,MAAQ7B,KAAKuB,KACrDvB,KAAK8B,QAAU9B,KAAKuB,KAAOxB,EAAW8B,MACtC7B,KAAK+B,QAAU,EACf/B,KAAKL,MAAQD,EACbM,KAAKH,OAASD,E,iDAIba,GAEDA,EAAIuB,OACJvB,EAAIwB,YACJxB,EAAIyB,UAAUlC,KAAKiB,EAAGjB,KAAKe,GAItBf,KAAKmB,KA0CNV,EAAI0B,UAAU3C,EAAa,EAAG,IAvC1BQ,KAAK2B,MAKA3B,KAAKwB,KAMNxB,KAAKoC,UAAU7C,EAAW,EAAG,EAAGkB,GALhCA,EAAI0B,UAAU5C,EAAW,EAAG,GASZ,IAAhBS,KAAK+B,UACL/B,KAAK2B,MAAO,EACZ3B,KAAK+B,QAAU,KAOd/B,KAAKwB,KAINxB,KAAKoC,UAAUhD,EAAa,EAAG,EAAGqB,GAHlCA,EAAI0B,UAAU/C,EAAa,EAAG,GAKd,IAAhBY,KAAK+B,UACL/B,KAAK2B,MAAO,EACZ3B,KAAK+B,QAAU,IAGvB/B,KAAK+B,SAAW,GAOpBtB,EAAI4B,Y,uCAMJrC,KAAKiB,GAAKjB,KAAK4B,OACf5B,KAAKe,GAAKf,KAAK8B,QAGG,IAAd9B,KAAKmB,OACLnB,KAAK4B,OAAS,EACd5B,KAAK8B,OAAS,EAGV9B,KAAKe,GAAiB,GAAZf,KAAKuB,OACfvB,KAAK8B,OAAS,M,gCAMhBQ,EAAKrB,EAAGF,EAAGN,GACjBA,EAAIuB,OACJvB,EAAIyB,UAAUjB,EAAIqB,EAAI3C,MAAOoB,GAC7BN,EAAI8B,OAAO,EAAG,GACd9B,EAAI0B,UAAUG,EAAK,EAAG,GACtB7B,EAAI4B,Y,kCAQJ,QAFQjC,KAAKC,SAEL,M,mCAWCmC,EAAKC,GACd,OAAOrC,KAAKC,UAAYoC,EAAMD,GAAOA,M,KKhMhCE,EAAiB,SAAC/C,EAAOE,EAAQY,GAC5CA,EAAIuB,OACJvB,EAAIwB,YACJxB,EAAIkC,UAAY,UAChBlC,EAAImC,KAAK,EAAG,EAAGjD,EAAgB,IAATE,GACtBY,EAAIoC,OACJpC,EAAI4B,UAEJ5B,EAAIuB,OACJvB,EAAIwB,YACJxB,EAAIkC,UAAY,QAChBlC,EAAImC,KAAK,EAAY,IAAT/C,EAAeF,EAAgB,IAATE,GAClCY,EAAIoC,OACJpC,EAAI4B,WCbS,MAA0B,mCFKrCS,GAAS,EAGPC,EAAY,IAEdhB,EAAU,EACVd,EAAI,GACJF,EAAI,GAEJiC,EAAa,GACbC,EAAa,GAEbC,EAAO,CACT5C,YAAa,KACbiB,KAAM,IACNM,MAAO,MAGLsB,EAAS,CACX7C,YAAa,IACbiB,KAAM,IACNM,MAAO,MAGLuB,EAAa,CACf9C,YAAa,KACbiB,KAAM,IACNM,MAAO,MAGIjB,EAAO,SAACyC,EAAOtD,GAC1B,OAAQA,GACN,IAAK,OACHD,EAAYwD,gBAAgBJ,GAC5BzD,EAAWyD,EAAK3B,KAChB,MAEF,IAAK,SACHzB,EAAYwD,gBAAgBH,GAC5B1D,EAAW0D,EAAO5B,KAClB,MAEF,IAAK,aACHzB,EAAYwD,gBAAgBF,GAC5B3D,EAAW2D,EAAW7B,KACtB,MAEF,QACEzB,EAAYwD,gBAAgBH,GAC5B1D,EAAW0D,EAAO5B,KAKJgC,SAASC,eAAe,aAC9BC,MAAMC,QAAU,OAC5B,IAAIC,EAAeJ,SAASC,eAAe,YACvCI,EAAgBL,SAASC,eAAe,aAC5CG,EAAaF,MAAMC,QAAU,OAC7BE,EAAcH,MAAMC,QAAU,OAE9B,IAAIG,EAAQN,SAASC,eAAe,SAChCM,EAAcP,SAASC,eAAe,eAC1CM,EAAYjE,OAASkD,EACrBe,EAAYnE,MAAQoD,EACpB,IAAIgB,EAAWD,EAAYE,WAAW,MAElCC,EAAaV,SAASC,eAAe,cACzCS,EAAWpE,OAASJ,EACpBwE,EAAWtE,MAAQF,EACnB,IAAIyE,EAAUD,EAAWD,WAAW,MAEhCG,EAAaC,aAAY,WAC3BC,EAAUJ,EAAYF,EAAUG,EAASL,EAAOR,EAAOc,KACtD,KAGCE,EAAY,SAACJ,EAAYF,EAAUG,EAASL,EAAOR,EAAOc,GAC9DpC,GAAW,EACX,IAAIS,EAAMpC,KAAKoC,IAAIqB,EAAMS,WAAYT,EAAMU,aACvCC,GAAMX,EAAMS,WAAa9B,GAAO,EAChCiC,GAAMZ,EAAMU,YAAc/B,GAAO,EAErCuB,EAAS/B,OACT+B,EAAS9B,YACT8B,EAASW,UAAU,EAAG,EAAG3B,EAAWA,GACpCgB,EAAS5B,UAAU0B,EAAOW,EAAIC,EAAIjC,EAAKA,EAAK,EAAG,EAAGO,EAAWA,GAC7DgB,EAAS1B,UAET,IAAIsC,EAAUZ,EAASa,aAAa,EAAG,EAAG7B,EAAWA,IAErDL,EAAejD,EAAUA,EAAUyE,GAGnB,IAAZnC,IACFsB,EAAMwB,OAAOF,GAASG,MAAK,SAACC,GAAiB,IAAD,EAC1C,QAA8BC,IAAf,OAAXD,QAAW,IAAXA,GAAA,UAAAA,EAAc,UAAd,eAAkBE,MAAmB,CACvChE,EAAI8D,EAAY,GAAGE,KAAK,GAAKF,EAAY,GAAGE,KAAK,GAAK,EACtDlE,EAAIgE,EAAY,GAAGE,KAAK,GAAKF,EAAY,GAAGE,KAAK,GAAK,EACtD,IAAIC,EAAYC,EAAyBlE,EAAGF,GAC5CE,EAAIiE,EAAU,GAAKnC,EACnBhC,EAAImE,EAAU,GAAKnC,EAInB,IAAIqC,EAAQL,EAAY,GAAGE,KAAK,GAAKF,EAAY,GAAGE,KAAK,GAczD,GATAhE,IAHSA,EAAI,IAEL,EAERF,IAHSA,EAAI,IACL,EAIJqE,GAAS,KAAkB,IAAXtC,IAClBhD,EAAYoB,sBACZpB,EAAYuF,SAASpE,EAAIxB,EAAUsB,EAAItB,GACvCqD,GAAS,GAGPsC,GAAS,KAAkB,IAAXtC,EACA,IAAI1B,MAAMkE,GAChBhE,OACZwB,GAAS,MAKff,EAAU,GAGZwD,EAAcrB,EAASjD,EAAGF,EAAGtB,GAE7BK,EAAY0F,gBACZ1F,EAAY2F,mBAAmBvB,GAC/BpE,EAAY4F,cApIF,KAsIS5F,EAAYI,eAE7ByF,cAAcxB,GACKZ,SAASC,eAAe,YAC9BC,MAAMC,QAAU,OAC7BH,SAASC,eACP,SACAoC,UAFF,oDAE2D9F,EAAYK,UAFvE,eGlJ0B,SAAC0F,EAAQpF,EAAKqC,EAAQgD,EAAOC,EAAOC,GAChEvF,EAAIuB,OACJvB,EAAI8B,MAAM,EAAG,GACb,IAAI0D,EAAW7F,KAAKsB,MAAMmE,EAAOhG,OAAS,IACtCqG,EAAW9F,KAAKsB,MAAMmE,EAAOhG,OAAS,IAC1CY,EAAI0F,KAAOF,EAAW,IAAMC,EAAW,aACvCzF,EAAIkC,UAAY,QAChBlC,EAAI2F,SAAJ,mBAAyBtD,EAAS,IAAM,KAAO,EAAmB,IAAhB+C,EAAOhG,QACzDY,EAAI2F,SAAJ,iBAAuBN,GAAgB,KAAO,EAAmB,IAAhBD,EAAOhG,QACxDY,EAAI2F,SAAJ,iBAAuBJ,EAAYD,EAAQC,EAAYD,GAAS,EAAmB,IAAhBF,EAAOhG,QAC1EY,EAAI4B,UH4IJgE,CACEpC,EACAC,EACApB,EACAhD,EAAYK,UAnJJ,GAqJRL,EAAYI,cAIVqF,EAAgB,SAAC9E,EAAKQ,EAAGF,EAAGuF,GAChC,IAAIC,EAAW,IAAPD,EAER7F,EAAIuB,OACJvB,EAAIwB,YAEJxB,EAAIyB,UAAU9B,KAAKsB,MAAMT,EAAIxB,GAAWW,KAAKsB,MAAMX,EAAItB,IAGvDgB,EAAI+F,OAAO,EAAG,GACd/F,EAAIgG,IAAI,EAAG,EAAGF,EAAG,EAAa,EAAVnG,KAAKsG,IAGzBjG,EAAI+F,OAAO,EAAG,EAAID,GAClB9F,EAAIkG,OAAO,EAAG,EAAIJ,GAGlB9F,EAAI+F,OAAO,EAAID,EAAG,GAClB9F,EAAIkG,OAAO,EAAIJ,EAAG,GAElB9F,EAAImG,UAAY,EAChBnG,EAAIoG,YAAc,MAClBpG,EAAIqG,SACJrG,EAAI4B,WAWA8C,EAA2B,SAAClE,EAAGF,GAgBnC,OAfIiC,EAAW+D,OAtLC,GAuLd/D,EAAWzC,KAAKU,GAChBgC,EAAW1C,KAAKQ,KAEhBiC,EAAWzC,KAAKU,GAChBgC,EAAW1C,KAAKQ,GAEhBiC,EAAWhC,OAAO,EAAG,GACrBiC,EAAWjC,OAAO,EAAG,IAOhB,CAHIgC,EAAWgE,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAAKlE,EAAW+D,OAChD9D,EAAW+D,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,KAAKjE,EAAW8D,SI7MhDI,G,cAAW,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,GAAIC,EAA8C,EAA9CA,OAAQvB,EAAsC,EAAtCA,MAAOwB,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UAC3D,OACE,sBAAKC,UAAU,OAAOL,GAAIA,EAA1B,UACE,sBAAMK,UAAU,aAAhB,SAA8BJ,IAC7BvB,GAAS,mBAAGsB,GAAG,UACfE,GAAQA,EACT,wBAAQC,QAASA,EAASE,UAAU,aAAaL,GAAG,aAApD,SACGI,SCoBHE,EAAiB,WACrB,IAAIzD,EAAaV,SAASC,eAAe,cACzC,GAAIS,EAAY,CACd,IAAIC,EAAUD,EAAWD,WAAW,MACpCtB,EAAeuB,EAAWtE,MAAOsE,EAAWpE,OAAQqE,KAI3CyD,EAAS,WAAO,IAAD,EACAC,mBAAS,IADT,mBACZC,GADY,aAEAD,wBAAS5C,GAFT,mBAEnB3B,EAFmB,KAEZyE,EAFY,OAGUF,mBAAS,QAHnB,mBAGnB7H,EAHmB,KAGPgI,EAHO,KAoB1B,OAfAC,qBAAU,WASRC,IARoB,CAClBC,gBAAgB,EAChBC,iBAAkB,EAClBC,YAAa,EACbC,aAAc,GACdC,eAAgB,MAGSxD,MAAK,SAACzB,GAC/ByE,EAASzE,GACTwE,EA5Cc,WAClB,IAAIhE,EAAQN,SAASgF,cAAc,UAgBnC,OAfA1E,EAAMlE,MAJK,IAKXkE,EAAMhE,OALK,IAOP2I,UAAUC,aAAaC,cAEzBF,UAAUC,aACPC,aAAa,CAAE7E,OAAO,IACtBiB,MAAK,SAAU6D,GACd9E,EAAM+E,UAAYD,KAEnBE,OAAM,SAAUC,GACfC,QAAQC,IAAI,4BAIXnF,EA2BMoF,SAEV,IAGD,qBAAK7B,GAAG,YAAYK,UAAW,gBAA/B,SACGpE,EACC,eAAC,IAAM6F,SAAP,WACE,uBAAOC,UAAU,EAAM/B,GAAG,UAC1B,sBAAKK,UAAU,gBAAf,UACE,cAAC,EAAD,CACEL,GAAG,YACHC,OAAO,eACPvB,OAAO,EACPwB,KACE,gCACE,4CACA,mDACA,gEACA,qEACA,sBAAKG,UAAU,kBAAf,UACE,uBAAO2B,QAAQ,aAAf,gCACA,yBACEhC,GAAG,aACHiC,SAAU,SAACC,GAAD,OAAOvB,EAAcuB,EAAEC,OAAOC,QAF1C,UAIE,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,aAAd,iCAKRjC,QAAS,kBAAM3G,EAAKyC,EAAOtD,IAC3ByH,UAAU,eAEZ,cAAC,EAAD,CACEJ,GAAG,WACHC,OAAO,aACPvB,OAAO,EACPwB,KACE,sBAAKG,UAAU,kBAAf,UACE,uBAAO2B,QAAQ,cAAf,gCACA,yBACEhC,GAAG,cACHiC,SAAU,SAACC,GAAD,OAAOvB,EAAcuB,EAAEC,OAAOC,QAF1C,UAIE,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,aAAd,8BAINjC,QAAS,kBAAM3G,EAAKyC,EAAOtD,IAC3ByH,UAAU,eAEZ,wBAAQJ,GAAG,gBACX,wBAAQA,GAAG,aAAaqC,OAAQ/B,YAIpC,eAAC,IAAMwB,SAAP,WACE,sBAAMzB,UAAW,cAAjB,kCACA,cAAC,IAAD,CAAalG,KAAM,GAAImI,OAAQ,WC1G1BC,MARf,WACE,OACE,qBAAKlC,UAAU,MAAf,SACE,cAAC,EAAD,OCDNmC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvG,SAASC,eAAe,W","file":"static/js/main.5f8c69fb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/shoot.f17b2b99.mp3\";","import duckDown from './duckDown.png'\r\nimport duckUp from './duckUp.png'\r\nimport duckDead from './duckDead.png'\r\n\r\nimport shoot from '../../sounds/shoot.mp3'\r\n\r\nconst imgDuckDown = new Image();\r\nimgDuckDown.src = duckDown;\r\nconst imgDuckUp = new Image();\r\nimgDuckUp.src = duckUp;\r\nconst imgDuckDead = new Image();\r\nimgDuckDead.src = duckDead;\r\nconst IMAGEWIDTH = imgDuckDown.width;\r\nconst IMAGEHEIGHT = imgDuckDown.height;\r\n\r\n// class to handle all duck related things\r\nexport default class DuckHandler {\r\n\r\n    // Initialize the variables\r\n    static InitializeDucks(difficulty) {\r\n        this.DUCKS = []; // Contains all the ducks\r\n        this.escapeCount = 0; // Keeps count how many ducks have escaped from the frame\r\n        this.killCount = 0; // Keeps count how many the player has managed to shoot.\r\n        this.difficulty = difficulty;\r\n    }\r\n\r\n    // Create new duck with pr% chance per frame.\r\n    static CreateNewDuck() {\r\n        var ran = Math.random();\r\n        if (ran > (1 - this.difficulty.probability)) {\r\n            this.DUCKS.push(new Duck(this.difficulty));\r\n        }\r\n    }\r\n\r\n    // Draw all ducks and update positions\r\n    static DrawDucksAndUpdate(ctx) {\r\n        this.DUCKS.forEach(duck => {\r\n            duck.draw(ctx);\r\n            duck.updatePosition();\r\n        });\r\n    }\r\n\r\n    // Delete ducks which have flown away.\r\n    static DeleteDucks() {\r\n        this.DUCKS.forEach((duck, index) => {\r\n            if (duck.y < 0 - duck.height) {\r\n                this.DUCKS.splice(index, 1);\r\n                this.escapeCount += 1;\r\n            }\r\n        });\r\n    }\r\n\r\n    // Mark duck ded if shot\r\n    static KillDuck(x, y) {\r\n\r\n        this.CreateShootingSound();\r\n\r\n        this.DUCKS.forEach(duck => {\r\n            if (x > duck.x && x < duck.x + duck.width && y > duck.y && y < duck.y + duck.height) {\r\n                duck.dead = true;\r\n                this.killCount += 1;\r\n            }\r\n        })\r\n    }\r\n\r\n    // Create epic sound to indicate shots fired.\r\n    static CreateShootingSound() {\r\n        var shootSound = new Audio(shoot)\r\n        shootSound.play();\r\n    }\r\n\r\n}\r\n\r\n// Class for duck\r\nclass Duck {\r\n\r\n    // Constructor for the bird\r\n    constructor(difficulty) {\r\n        this.size = difficulty.size;\r\n        this.side = (Math.random() > 0.5) ? true : false;\r\n        this.dead = false;\r\n        this.x = (!this.side) ? -IMAGEWIDTH : this.size + IMAGEWIDTH;\r\n        this.y = this.randomNumber(Math.floor(this.size * 0.8), this.size)\r\n        this.pose = false;\r\n        this.xSpeed = (!this.side) ? difficulty.speed * this.size : -difficulty.speed * this.size;\r\n        this.ySpeed = -this.size * difficulty.speed;\r\n        this.counter = 0;\r\n        this.width = IMAGEWIDTH;\r\n        this.height = IMAGEHEIGHT;\r\n    }\r\n\r\n    // Function to draw bird\r\n    draw(ctx) {\r\n\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        ctx.translate(this.x, this.y)\r\n\r\n\r\n        // If duck not ded\r\n        if (!this.dead) {\r\n\r\n            // Draw duck with wings up\r\n            if (this.pose) {\r\n                // const img = new Image();\r\n                // img.src = duckUp;\r\n\r\n                // Draw duck coming from left\r\n                if (!this.side) {\r\n                    ctx.drawImage(imgDuckUp, 0, 0);\r\n                }\r\n\r\n                // Draw duck coming from right\r\n                else {\r\n                    this.flipImage(imgDuckUp, 0, 0, ctx);\r\n                }\r\n\r\n                // Draw 10 frames with wings up and down\r\n                if (this.counter == 10) {\r\n                    this.pose = false;\r\n                    this.counter = 0;\r\n                }\r\n            }\r\n\r\n            // Draw duck with wings down.\r\n            else {\r\n\r\n                if (!this.side) {\r\n                    ctx.drawImage(imgDuckDown, 0, 0);\r\n                }\r\n                else {\r\n                    this.flipImage(imgDuckDown, 0, 0, ctx);\r\n                }\r\n                if (this.counter == 10) {\r\n                    this.pose = true;\r\n                    this.counter = 0;\r\n                }\r\n            }\r\n            this.counter += 1;\r\n        }\r\n        // If duck ded\r\n        else {\r\n            ctx.drawImage(imgDuckDead, 0, 0);\r\n        }\r\n\r\n        ctx.restore();\r\n    }\r\n\r\n    // Function to update the birds position\r\n    updatePosition() {\r\n\r\n        this.x += this.xSpeed;\r\n        this.y += this.ySpeed;\r\n\r\n        // Drop bird if he ded\r\n        if (this.dead === true) {\r\n            this.xSpeed = 0;\r\n            this.ySpeed = 5;\r\n\r\n            // Stop when hit ground\r\n            if (this.y >= this.size * 0.8) {\r\n                this.ySpeed = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Function to draw image flipped. https://stackoverflow.com/questions/35973441/how-to-horizontally-flip-an-image\r\n    flipImage(img, x, y, ctx) {\r\n        ctx.save();\r\n        ctx.translate(x + img.width, y);\r\n        ctx.scale(-1, 1);\r\n        ctx.drawImage(img, 0, 0);\r\n        ctx.restore();\r\n    }\r\n\r\n    // Function to randomize the side the bird comes from\r\n    StartSide() {\r\n\r\n        var i = Math.random();\r\n\r\n        if (i < 0.5) {\r\n            // Left side\r\n            return false;\r\n        }\r\n        else {\r\n            // Right side\r\n            return true;\r\n        }\r\n    }\r\n\r\n    // Function to return random number between min and max\r\n    randomNumber(min, max) {\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAArCAYAAADMr156AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QIMDDAUds3XowAAAl9JREFUaN7tms1twzAMhU3D53SMLGAkx16bHdJZgsyS7BBffUzRBTJGugB7KJjSCvVDS4ptQAKCAjWqiB/foyi5gIhVGVVVFwQFRAFRQBQQBUTwaJa4aAAQ93xEhNFzLq2PIAin3Xnw+8/LPgrIokDYIJhAxoBYXI1wQaDnAIA2+ywehC8wbg2CpYGR3RrazNh8DgAoqYEDMEFobNJMHXDIfL5geDIBxm0cdUwQ5MXUEGxQpOzHAnhSBABgiIx40O8f34NnfddOWii1SuXxNlp5m8HPBYKt1uFhLQM63gbJb0KC1CzWJd+xwfvm5LYIVQ0e1hUcb0NrICLE+JyrYYx8X20X767Rd61aFQQhNHtTBGmzhgiCVEGBhQDhEDiAWIvlrjkEwVos6QEBcQUkQUgBIHfmbX2JtbP01QzTCqEQXJnmc/Rd+/QdY6xCf+trDRpNi2tbjFYJoa3y52VfnXbnh+o0QLTH8uAWm2oILS62yPJAbeqwqSe0IGuO46rTJ00sZafv2qdPiiGpABEh5POSixnfJYkra9z7vmIrbc8xV3LJT598h8HrqoLtzwCKz8cmKJu1JIuEnovygPh6ky9Mr6vHT9juvSB4Fdd0s2bhnE4RmzvYYFSbO/wF958x12KlbLoKrqtwphpxV3WbOxAEM1BNEeMFN9ROqe9AanXgEx2euFpynEHqlEqI2R41Z4wcNaIeBSHR4H2J1JO4AKXeNSa/zpdgmDXD7CWyHM7m8qZLatCkdxWhh6jFgtB0qzk6y9m9+zS3xdxKmC0IF5RcEGYP4pWj/MdMAVFAiOMXDSXZ3blbU9UAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAArCAYAAADMr156AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QIMDDEdFgpeRgAAAidJREFUaN7tmsFxAjEMRa2Mz0kZNLATjlwhNUAtDLVAaoArx2RogDJCA85JGa3XXku2wWxGPjFe1lhP0pfsAZxzRocxL4pAQSiI0LCtNwAAA5FyzsHD99FSLBHCfnX4m9sc101gNAFBo4BCaAmjWWqEooA+8+dS6VQKrrlGoMGL5cUYY8z51InTCdfBZzlAnqJqIAQfju/5GAScC81PtnwilJhRKWP3q4MBABdLn8n3ESnDqKYgLAkM29KAMUHkRgNdAz9jmkjWt4/yGFcfcgZtAQAgXyNyjcBczH1fCjlRUuv0EQDgOGWHGu17M1X6avYeNSKV2mul4R0L5VoQYuukIMQ6ZLedhQHtrj3n25r5KhUoThU4fHw6htfFUeO2MwO7az81nHNQkufUi6mNSEBxjCppoqJV43zqxFGBEHBDXENrRU62AJNo6IHAqEDDOEAoBGoYF2ZMDxbLy12FFyFExRIfIJAxg0IQpNEU+n6NvmLM87FDWfQ+IqUZfiqURoG/xvnUDX4jRw+4dxuWU2NTJz+pF1OtcmxOAoS+y+mP2C02asjmuB5sJEdkcbN0La4ucIVWci8hOmtQGP7hJmQEF47Ue3cR0Nw7y7FUSXktVGpbASgG0TujfL0amN9EYuaDmg6I77d0qzu/JTu+Vtf1dSMiBuP9BySl99kglF/MeACe2VDWxUyp4f9h2JqRMOUB+keRnNRQEApCQSgIBaEgdCgIBTEYv/jJUlwFx0BaAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAArCAYAAADMr156AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QIMDQwRdJYw5AAAAkFJREFUaN7tmlFOwzAMhu0pz+MYXACxR17pHcZZgLO0dxivPA5xAY4BFzBPFp6JG6dNum5KpEqbmnbL19+/7WxIRNAGwKYhaCAaiNgINW+OiCcGRES4VhBYyywZQt8NAADwdNjDmqFUAaEh6MFQ1gSjOIgxJUgwa4NRxSw1hIfHTxOK9pGryxoagoTB59YEY1MjLHjw4uV7rY4qMD5u6OyKsAxyDJDnGjeACRCqgJA+8P52555bfGQCKQpCZoDUU44ZqAyxsaOkEhapLFkVOhQkDK0aTw3Cc+i4Tavi/hvPBuLpsIe+G6Dvhiz5IyKllCTP424PdNwC7n5m1yPFQRARavlaqtBqsMpxC0TfDTC8APTdn5KmAlmkxNY1hQQh58jXHnBjAHOBbHIX6Dl0ViiVHrkOkYf+nKl1Sch5wt5FWdIeM86psGKGy96EiORVRjI0Ui7uAWJJfqzOsIBZ4eLxl7GQiYKwZDUVRir256RmqYAUQJ4fgxFiAOj59j+c16/VbKJIJXkhyDCKZZjggVBrETVafW+fw0AYxokiakMo1lwZrf4ckw1LSrpkk8VQ53oOqyJoH6ihihpdZuqeuSEYdGnsNcVYatTyr9pmG5VqTmUps6O7xI41RNbG7BIQcmqE7NAoKXVOa7Em7NyLj10fpkLICQH5ZadCqb3tnxUaqQ2TNf9uUaz75AVZTz8G6FIgZLfhRIREhKlQOIdRLhYa3rb80kKiyA6VZXyXBmE2iGsa7R8zDUQD0UA0EA2Ef/wCr4y328vyzCsAAAAASUVORK5CYII=\"","import DuckHandler from \"../components/duckHandler/DuckHandler\";\r\nimport { drawBackground } from \"./drawBackground\";\r\nimport { drawScoreboard } from \"./drawScoreboard\";\r\nimport reload from \"../sounds/reload.wav\";\r\n\r\nlet bullet = true;\r\nlet shots = [];\r\nlet lives = 10;\r\nconst VIDEOSIZE = 150;\r\nvar GAMESIZE;\r\nlet counter = 0;\r\nlet x = 0.5;\r\nlet y = 0.5;\r\nconst numAvgPos = 5;\r\nvar xPositions = [];\r\nvar yPositions = [];\r\n\r\nvar easy = {\r\n  probability: 0.005,\r\n  size: 600,\r\n  speed: 0.001,\r\n};\r\n\r\nvar medium = {\r\n  probability: 0.01,\r\n  size: 800,\r\n  speed: 0.002,\r\n};\r\n\r\nvar impossible = {\r\n  probability: 0.015,\r\n  size: 1000,\r\n  speed: 0.003,\r\n};\r\n\r\nexport const draw = (model, difficulty) => {\r\n  switch (difficulty) {\r\n    case \"easy\": {\r\n      DuckHandler.InitializeDucks(easy);\r\n      GAMESIZE = easy.size;\r\n      break;\r\n    }\r\n    case \"medium\": {\r\n      DuckHandler.InitializeDucks(medium);\r\n      GAMESIZE = medium.size;\r\n      break;\r\n    }\r\n    case \"impossible\": {\r\n      DuckHandler.InitializeDucks(impossible);\r\n      GAMESIZE = impossible.size;\r\n      break;\r\n    }\r\n    default: {\r\n      DuckHandler.InitializeDucks(medium);\r\n      GAMESIZE = medium.size;\r\n      break;\r\n    }\r\n  }\r\n\r\n  let startButton = document.getElementById(\"StartGame\");\r\n  startButton.style.display = \"none\";\r\n  let gameOverMenu = document.getElementById(\"GameOver\");\r\n  let startGameMenu = document.getElementById(\"StartGame\");\r\n  gameOverMenu.style.display = \"none\";\r\n  startGameMenu.style.display = \"none\";\r\n\r\n  var video = document.getElementById(\"video\");\r\n  var videoCanvas = document.getElementById(\"videoCanvas\");\r\n  videoCanvas.height = VIDEOSIZE;\r\n  videoCanvas.width = VIDEOSIZE;\r\n  var videoCtx = videoCanvas.getContext(\"2d\");\r\n\r\n  var gameCanvas = document.getElementById(\"gameCanvas\");\r\n  gameCanvas.height = GAMESIZE;\r\n  gameCanvas.width = GAMESIZE;\r\n  var gameCtx = gameCanvas.getContext(\"2d\");\r\n\r\n  let intervalId = setInterval(function () {\r\n    drawScene(gameCanvas, videoCtx, gameCtx, video, model, intervalId);\r\n  }, 10);\r\n};\r\n\r\nconst drawScene = (gameCanvas, videoCtx, gameCtx, video, model, intervalId) => {\r\n  counter += 1;\r\n  var min = Math.min(video.videoWidth, video.videoHeight);\r\n  var sx = (video.videoWidth - min) / 2;\r\n  var sy = (video.videoHeight - min) / 2;\r\n\r\n  videoCtx.save();\r\n  videoCtx.beginPath();\r\n  videoCtx.clearRect(0, 0, VIDEOSIZE, VIDEOSIZE);\r\n  videoCtx.drawImage(video, sx, sy, min, min, 0, 0, VIDEOSIZE, VIDEOSIZE);\r\n  videoCtx.restore();\r\n\r\n  var imgData = videoCtx.getImageData(0, 0, VIDEOSIZE, VIDEOSIZE);\r\n\r\n  drawBackground(GAMESIZE, GAMESIZE, gameCtx);\r\n\r\n  // HANDTRACK\r\n  if (counter === 5) {\r\n    model.detect(imgData).then((predictions) => {\r\n      if (predictions?.[0]?.bbox != undefined) {\r\n        x = predictions[0].bbox[0] + predictions[0].bbox[2] / 2;\r\n        y = predictions[0].bbox[1] + predictions[0].bbox[3] / 2;\r\n        var positions = calculateAveragePosition(x, y);\r\n        x = positions[0] / VIDEOSIZE;\r\n        y = positions[1] / VIDEOSIZE;\r\n\r\n        // x = (predictions[0].bbox[0] + predictions[0].bbox[2] / 2) / VIDEOSIZE;\r\n        // y = (predictions[0].bbox[1] + predictions[0].bbox[3] / 2) / VIDEOSIZE;\r\n        var ratio = predictions[0].bbox[2] / predictions[0].bbox[3];\r\n\r\n        var x1 = x - 0.5;\r\n        var y1 = y - 0.5;\r\n        var a = 2;\r\n        x = x + x1 / a;\r\n        y = y + y1 / a;\r\n\r\n        if (ratio >= 0.7 && bullet === true) {\r\n          DuckHandler.CreateShootingSound();\r\n          DuckHandler.KillDuck(x * GAMESIZE, y * GAMESIZE);\r\n          bullet = false;\r\n        }\r\n\r\n        if (ratio <= 0.6 && bullet === false) {\r\n          var reloadSound = new Audio(reload);\r\n          reloadSound.play();\r\n          bullet = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    counter = 0;\r\n  }\r\n\r\n  drawCrosshair(gameCtx, x, y, GAMESIZE);\r\n\r\n  DuckHandler.CreateNewDuck();\r\n  DuckHandler.DrawDucksAndUpdate(gameCtx);\r\n  DuckHandler.DeleteDucks();\r\n\r\n  let escapedDucks = DuckHandler.escapeCount;\r\n  if (escapedDucks === lives) {\r\n    clearInterval(intervalId);\r\n    let gameOverMenu = document.getElementById(\"GameOver\");\r\n    gameOverMenu.style.display = \"flex\";\r\n    document.getElementById(\r\n      \"score\"\r\n    ).innerHTML = `Congratulations! You managed to hunt down ${DuckHandler.killCount} duck(s)!`;\r\n  }\r\n  drawScoreboard(\r\n    gameCanvas,\r\n    gameCtx,\r\n    bullet,\r\n    DuckHandler.killCount,\r\n    lives,\r\n    DuckHandler.escapeCount\r\n  );\r\n};\r\n\r\nconst drawCrosshair = (ctx, x, y, SIZE) => {\r\n  var r = SIZE * 0.05;\r\n\r\n  ctx.save();\r\n  ctx.beginPath();\r\n\r\n  ctx.translate(Math.floor(x * GAMESIZE), Math.floor(y * GAMESIZE));\r\n\r\n  // Circle\r\n  ctx.moveTo(0, 0);\r\n  ctx.arc(0, 0, r, 0, Math.PI * 2);\r\n\r\n  // Vertical line\r\n  ctx.moveTo(0, 0 - r);\r\n  ctx.lineTo(0, 0 + r);\r\n\r\n  // Horizontal line\r\n  ctx.moveTo(0 - r, 0);\r\n  ctx.lineTo(0 + r, 0);\r\n\r\n  ctx.lineWidth = 1;\r\n  ctx.strokeStyle = \"red\";\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nconst drawBoundingBox = (ctx, x, y, w, h) => {\r\n  ctx.save();\r\n  ctx.beginPath();\r\n  ctx.rect(x, y, w, -h);\r\n  ctx.stroke();\r\n  ctx.restore();\r\n};\r\n\r\nconst calculateAveragePosition = (x, y) => {\r\n  if (xPositions.length < numAvgPos) {\r\n    xPositions.push(x);\r\n    yPositions.push(y);\r\n  } else {\r\n    xPositions.push(x);\r\n    yPositions.push(y);\r\n\r\n    xPositions.splice(0, 1);\r\n    yPositions.splice(0, 1);\r\n  }\r\n\r\n  // https://jrsinclair.com/articles/2019/five-ways-to-average-with-js-reduce/\r\n  var xAvg = xPositions.reduce((a, b) => a + b) / xPositions.length;\r\n  var yAvg = yPositions.reduce((a, b) => a + b) / yPositions.length;\r\n\r\n  return [xAvg, yAvg];\r\n};\r\n","export const drawBackground = (width, height, ctx) => {\r\n  ctx.save();\r\n  ctx.beginPath();\r\n  ctx.fillStyle = \"skyblue\";\r\n  ctx.rect(0, 0, width, height * 0.75);\r\n  ctx.fill();\r\n  ctx.restore();\r\n\r\n  ctx.save();\r\n  ctx.beginPath();\r\n  ctx.fillStyle = \"green\";\r\n  ctx.rect(0, height * 0.75, width, height * 0.25);\r\n  ctx.fill();\r\n  ctx.restore();\r\n};\r\n","export default __webpack_public_path__ + \"static/media/reload.29125f95.wav\";","export const drawScoreboard = (canvas, ctx, bullet, score, lives, livesLeft) => {\r\n  ctx.save();\r\n  ctx.scale(1, 1);\r\n  var boldness = Math.floor(canvas.height / 10);\r\n  var textSize = Math.floor(canvas.height / 50);\r\n  ctx.font = boldness + \" \" + textSize + \"px Verdana\";\r\n  ctx.fillStyle = \"white\";\r\n  ctx.fillText(`BULLETS: ${bullet ? \"1\" : \"0\"}`, 5, canvas.height * 0.89);\r\n  ctx.fillText(`SCORE: ${score ? score : \"0\"}`, 5, canvas.height * 0.94);\r\n  ctx.fillText(`LIVES: ${livesLeft ? lives - livesLeft : lives}`, 5, canvas.height * 0.99);\r\n  ctx.restore();\r\n};\r\n","import React from \"react\";\r\nimport \"./GameMenu.css\";\r\n\r\nexport const GameMenu = ({ id, header, score, body, onClick, buttonTxt }) => {\r\n  return (\r\n    <div className=\"Menu\" id={id}>\r\n      <span className=\"MenuHeader\">{header}</span>\r\n      {score && <p id=\"score\"></p>}\r\n      {body && body}\r\n      <button onClick={onClick} className=\"PlayButton\" id=\"PlayButton\">\r\n        {buttonTxt}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as handpose from \"handtrackjs\";\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\nimport { draw } from \"../../drawUtils/draw\";\r\nimport \"./WebCam.css\";\r\nimport { GameMenu } from \"../GameMenu/GameMenu\";\r\nimport { drawBackground } from \"../../drawUtils/drawBackground\";\r\n\r\nconst SIZE = 500;\r\n\r\nconst StreamVideo = () => {\r\n  var video = document.querySelector(\"#video\");\r\n  video.width = SIZE;\r\n  video.height = SIZE;\r\n\r\n  if (navigator.mediaDevices.getUserMedia) {\r\n    //console.log(navigator.mediaDevices.getUserMedia);\r\n    navigator.mediaDevices\r\n      .getUserMedia({ video: true })\r\n      .then(function (stream) {\r\n        video.srcObject = stream;\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Something went wrong!\");\r\n      });\r\n  }\r\n\r\n  return video;\r\n};\r\n\r\nconst initBackground = () => {\r\n  var gameCanvas = document.getElementById(\"gameCanvas\");\r\n  if (gameCanvas) {\r\n    var gameCtx = gameCanvas.getContext(\"2d\");\r\n    drawBackground(gameCanvas.width, gameCanvas.height, gameCtx);\r\n  }\r\n};\r\n\r\nexport const WebCam = () => {\r\n  const [video, setVideo] = useState({});\r\n  const [model, setModel] = useState(undefined);\r\n  const [difficulty, setDifficulty] = useState(\"easy\");\r\n\r\n  useEffect(() => {\r\n    const modelParams = {\r\n      flipHorizontal: true, // flip e.g for video\r\n      imageScaleFactor: 1, // reduce input image size .\r\n      maxNumBoxes: 1, // maximum number of boxes to detect\r\n      iouThreshold: 0.5, // ioU threshold for non-max suppression\r\n      scoreThreshold: 0.85, // confidence threshold for predictions.\r\n    };\r\n\r\n    handpose.load(modelParams).then((model) => {\r\n      setModel(model);\r\n      setVideo(StreamVideo());\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"container\" className={\"GameContainer\"}>\r\n      {model ? (\r\n        <React.Fragment>\r\n          <video autoPlay={true} id=\"video\"></video>\r\n          <div className=\"canvasWrapper\">\r\n            <GameMenu\r\n              id=\"StartGame\"\r\n              header=\"DUCK SHOOTER\"\r\n              score={false}\r\n              body={\r\n                <div>\r\n                  <i>How to play</i>\r\n                  <p>Aim with your hand</p>\r\n                  <p>Shoot by spreading your fingers</p>\r\n                  <p>Reload by clenching fingers together</p>\r\n                  <div className=\"difficultSelect\">\r\n                    <label htmlFor=\"difficulty\">Select difficulty:</label>\r\n                    <select\r\n                      id=\"difficulty\"\r\n                      onChange={(e) => setDifficulty(e.target.value)}\r\n                    >\r\n                      <option value=\"easy\">Easy</option>\r\n                      <option value=\"medium\">Normal</option>\r\n                      <option value=\"impossible\">Impossible</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              }\r\n              onClick={() => draw(model, difficulty)}\r\n              buttonTxt=\"Start game\"\r\n            />\r\n            <GameMenu\r\n              id=\"GameOver\"\r\n              header=\"Game over!\"\r\n              score={true}\r\n              body={\r\n                <div className=\"difficultSelect\">\r\n                  <label htmlFor=\"difficulty2\">Select difficulty:</label>\r\n                  <select\r\n                    id=\"difficulty2\"\r\n                    onChange={(e) => setDifficulty(e.target.value)}\r\n                  >\r\n                    <option value=\"easy\">Easy</option>\r\n                    <option value=\"medium\">Normal</option>\r\n                    <option value=\"impossible\">Impossible</option>\r\n                  </select>\r\n                </div>\r\n              }\r\n              onClick={() => draw(model, difficulty)}\r\n              buttonTxt=\"Play again\"\r\n            />\r\n            <canvas id=\"videoCanvas\" />\r\n            <canvas id=\"gameCanvas\" onLoad={initBackground()} />\r\n          </div>\r\n        </React.Fragment>\r\n      ) : (\r\n        <React.Fragment>\r\n          <span className={\"LoadingSpan\"}>Game is initializing</span>\r\n          <PulseLoader size={20} margin={15} />\r\n        </React.Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import \"./App.css\";\r\nimport { WebCam } from \"./components/WebCam/WebCam\"\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <WebCam />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}