(this.webpackJsonpvwd21_noobs=this.webpackJsonpvwd21_noobs||[]).push([[0],{118:function(e,t,i){},119:function(e,t,i){},126:function(e,t){},128:function(e,t){},139:function(e,t){},141:function(e,t){},166:function(e,t){},168:function(e,t){},169:function(e,t){},174:function(e,t){},176:function(e,t){},195:function(e,t){},207:function(e,t){},210:function(e,t){},213:function(e,t,i){},214:function(e,t,i){},220:function(e,t,i){"use strict";i.r(t);var n=i(2),a=i(4),s=i.n(a),o=i(110),c=i.n(o),r=(i(118),i(119),i(16)),d=i(112),h=i(111),l=i.n(h),A=i(29),u=i(30),f=i.p+"static/media/shoot.f17b2b99.mp3",m=new Image;m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAArCAYAAADMr156AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QIMDDAUds3XowAAAl9JREFUaN7tms1twzAMhU3D53SMLGAkx16bHdJZgsyS7BBffUzRBTJGugB7KJjSCvVDS4ptQAKCAjWqiB/foyi5gIhVGVVVFwQFRAFRQBQQBUTwaJa4aAAQ93xEhNFzLq2PIAin3Xnw+8/LPgrIokDYIJhAxoBYXI1wQaDnAIA2+ywehC8wbg2CpYGR3RrazNh8DgAoqYEDMEFobNJMHXDIfL5geDIBxm0cdUwQ5MXUEGxQpOzHAnhSBABgiIx40O8f34NnfddOWii1SuXxNlp5m8HPBYKt1uFhLQM63gbJb0KC1CzWJd+xwfvm5LYIVQ0e1hUcb0NrICLE+JyrYYx8X20X767Rd61aFQQhNHtTBGmzhgiCVEGBhQDhEDiAWIvlrjkEwVos6QEBcQUkQUgBIHfmbX2JtbP01QzTCqEQXJnmc/Rd+/QdY6xCf+trDRpNi2tbjFYJoa3y52VfnXbnh+o0QLTH8uAWm2oILS62yPJAbeqwqSe0IGuO46rTJ00sZafv2qdPiiGpABEh5POSixnfJYkra9z7vmIrbc8xV3LJT598h8HrqoLtzwCKz8cmKJu1JIuEnovygPh6ky9Mr6vHT9juvSB4Fdd0s2bhnE4RmzvYYFSbO/wF958x12KlbLoKrqtwphpxV3WbOxAEM1BNEeMFN9ROqe9AanXgEx2euFpynEHqlEqI2R41Z4wcNaIeBSHR4H2J1JO4AKXeNSa/zpdgmDXD7CWyHM7m8qZLatCkdxWhh6jFgtB0qzk6y9m9+zS3xdxKmC0IF5RcEGYP4pWj/MdMAVFAiOMXDSXZ3blbU9UAAAAASUVORK5CYII=";var g=new Image;g.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAArCAYAAADMr156AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QIMDDEdFgpeRgAAAidJREFUaN7tmsFxAjEMRa2Mz0kZNLATjlwhNUAtDLVAaoArx2RogDJCA85JGa3XXku2wWxGPjFe1lhP0pfsAZxzRocxL4pAQSiI0LCtNwAAA5FyzsHD99FSLBHCfnX4m9sc101gNAFBo4BCaAmjWWqEooA+8+dS6VQKrrlGoMGL5cUYY8z51InTCdfBZzlAnqJqIAQfju/5GAScC81PtnwilJhRKWP3q4MBABdLn8n3ESnDqKYgLAkM29KAMUHkRgNdAz9jmkjWt4/yGFcfcgZtAQAgXyNyjcBczH1fCjlRUuv0EQDgOGWHGu17M1X6avYeNSKV2mul4R0L5VoQYuukIMQ6ZLedhQHtrj3n25r5KhUoThU4fHw6htfFUeO2MwO7az81nHNQkufUi6mNSEBxjCppoqJV43zqxFGBEHBDXENrRU62AJNo6IHAqEDDOEAoBGoYF2ZMDxbLy12FFyFExRIfIJAxg0IQpNEU+n6NvmLM87FDWfQ+IqUZfiqURoG/xvnUDX4jRw+4dxuWU2NTJz+pF1OtcmxOAoS+y+mP2C02asjmuB5sJEdkcbN0La4ucIVWci8hOmtQGP7hJmQEF47Ue3cR0Nw7y7FUSXktVGpbASgG0TujfL0amN9EYuaDmg6I77d0qzu/JTu+Vtf1dSMiBuP9BySl99kglF/MeACe2VDWxUyp4f9h2JqRMOUB+keRnNRQEApCQSgIBaEgdCgIBTEYv/jJUlwFx0BaAAAAAElFTkSuQmCC";var b=new Image;b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAArCAYAAADMr156AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABJ0AAASdAHeZh94AAAAB3RJTUUH5QIMDQwRdJYw5AAAAkFJREFUaN7tmlFOwzAMhu0pz+MYXACxR17pHcZZgLO0dxivPA5xAY4BFzBPFp6JG6dNum5KpEqbmnbL19+/7WxIRNAGwKYhaCAaiNgINW+OiCcGRES4VhBYyywZQt8NAADwdNjDmqFUAaEh6MFQ1gSjOIgxJUgwa4NRxSw1hIfHTxOK9pGryxoagoTB59YEY1MjLHjw4uV7rY4qMD5u6OyKsAxyDJDnGjeACRCqgJA+8P52555bfGQCKQpCZoDUU44ZqAyxsaOkEhapLFkVOhQkDK0aTw3Cc+i4Tavi/hvPBuLpsIe+G6Dvhiz5IyKllCTP424PdNwC7n5m1yPFQRARavlaqtBqsMpxC0TfDTC8APTdn5KmAlmkxNY1hQQh58jXHnBjAHOBbHIX6Dl0ViiVHrkOkYf+nKl1Sch5wt5FWdIeM86psGKGy96EiORVRjI0Ui7uAWJJfqzOsIBZ4eLxl7GQiYKwZDUVRir256RmqYAUQJ4fgxFiAOj59j+c16/VbKJIJXkhyDCKZZjggVBrETVafW+fw0AYxokiakMo1lwZrf4ckw1LSrpkk8VQ53oOqyJoH6ihihpdZuqeuSEYdGnsNcVYatTyr9pmG5VqTmUps6O7xI41RNbG7BIQcmqE7NAoKXVOa7Em7NyLj10fpkLICQH5ZadCqb3tnxUaqQ2TNf9uUaz75AVZTz8G6FIgZLfhRIREhKlQOIdRLhYa3rb80kKiyA6VZXyXBmE2iGsa7R8zDUQD0UA0EA2Ef/wCr4y328vyzCsAAAAASUVORK5CYII=";var p,j=m.width,v=m.height,y=function(){function e(){Object(A.a)(this,e)}return Object(u.a)(e,null,[{key:"InitializeDucks",value:function(e){this.DUCKS=[],this.escapeCount=0,this.killCount=0,this.difficulty=e}},{key:"CreateNewDuck",value:function(){Math.random()>1-this.difficulty.probability&&this.DUCKS.push(new x(this.difficulty))}},{key:"DrawDucksAndUpdate",value:function(e){this.DUCKS.forEach((function(t){t.draw(e),t.updatePosition()}))}},{key:"DeleteDucks",value:function(){var e=this;this.DUCKS.forEach((function(t,i){t.y<0-t.height&&(e.DUCKS.splice(i,1),e.escapeCount+=1)}))}},{key:"KillDuck",value:function(e,t){var i=this;this.CreateShootingSound(),this.DUCKS.forEach((function(n){e>n.x&&e<n.x+n.width&&t>n.y&&t<n.y+n.height&&(n.dead=!0,i.killCount+=1)}))}},{key:"CreateShootingSound",value:function(){new Audio(f).play()}}]),e}(),x=function(){function e(t){Object(A.a)(this,e),this.size=t.size,this.side=Math.random()>.5,this.dead=!1,this.x=this.side?this.size+j:-j,this.y=this.randomNumber(Math.floor(.8*this.size),this.size),this.pose=!1,this.xSpeed=this.side?-t.speed*this.size:t.speed*this.size,this.ySpeed=-this.size*t.speed,this.counter=0,this.width=j,this.height=v}return Object(u.a)(e,[{key:"draw",value:function(e){e.save(),e.beginPath(),e.translate(this.x,this.y),this.dead?e.drawImage(b,0,0):(this.pose?(this.side?this.flipImage(g,0,0,e):e.drawImage(g,0,0),10==this.counter&&(this.pose=!1,this.counter=0)):(this.side?this.flipImage(m,0,0,e):e.drawImage(m,0,0),10==this.counter&&(this.pose=!0,this.counter=0)),this.counter+=1),e.restore()}},{key:"updatePosition",value:function(){this.x+=this.xSpeed,this.y+=this.ySpeed,!0===this.dead&&(this.xSpeed=0,this.ySpeed=5,this.y>=.8*this.size&&(this.ySpeed=0))}},{key:"flipImage",value:function(e,t,i,n){n.save(),n.translate(t+e.width,i),n.scale(-1,1),n.drawImage(e,0,0),n.restore()}},{key:"StartSide",value:function(){return!(Math.random()<.5)}},{key:"randomNumber",value:function(e,t){return Math.random()*(t-e)+e}}]),e}(),I=function(e,t,i){i.save(),i.beginPath(),i.fillStyle="skyblue",i.rect(0,0,e,.75*t),i.fill(),i.restore(),i.save(),i.beginPath(),i.fillStyle="green",i.rect(0,.75*t,e,.25*t),i.fill(),i.restore()},O=i.p+"static/media/reload.29125f95.wav",C=!0,S=150,w=0,E=.5,B=.5,D=[],k=[],U={probability:.005,size:600,speed:.001},N={probability:.01,size:800,speed:.002},R={probability:.015,size:1e3,speed:.003},Q=function(e,t){switch(t){case"easy":y.InitializeDucks(U),p=U.size;break;case"medium":y.InitializeDucks(N),p=N.size;break;case"impossible":y.InitializeDucks(R),p=R.size;break;default:y.InitializeDucks(N),p=N.size}document.getElementById("StartGame").style.display="none";var i=document.getElementById("GameOver"),n=document.getElementById("StartGame");i.style.display="none",n.style.display="none";var a=document.getElementById("video"),s=document.getElementById("videoCanvas");s.height=S,s.width=S;var o=s.getContext("2d"),c=document.getElementById("gameCanvas");c.height=p,c.width=p;var r=c.getContext("2d"),d=setInterval((function(){M(c,o,r,a,e,d)}),10)},M=function(e,t,i,n,a,s){w+=1;var o=Math.min(n.videoWidth,n.videoHeight),c=(n.videoWidth-o)/2,r=(n.videoHeight-o)/2;t.save(),t.beginPath(),t.clearRect(0,0,S,S),t.drawImage(n,c,r,o,o,0,0,S,S),t.restore();var d=t.getImageData(0,0,S,S);(I(p,p,i),5===w&&(a.detect(d).then((function(e){var t;if(void 0!=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.bbox)){E=e[0].bbox[0]+e[0].bbox[2]/2,B=e[0].bbox[1]+e[0].bbox[3]/2;var i=J(E,B);E=i[0]/S,B=i[1]/S;var n=e[0].bbox[2]/e[0].bbox[3];if(E+=(E-.5)/2,B+=(B-.5)/2,n>=.7&&!0===C&&(y.CreateShootingSound(),y.KillDuck(E*p,B*p),C=!1),n<=.6&&!1===C)new Audio(O).play(),C=!0}})),w=0),z(i,E,B,p),y.CreateNewDuck(),y.DrawDucksAndUpdate(i),y.DeleteDucks(),10===y.escapeCount)&&(clearInterval(s),document.getElementById("GameOver").style.display="flex",document.getElementById("score").innerHTML="Congratulations! You managed to hunt down ".concat(y.killCount," duck(s)!"));!function(e,t,i,n,a,s){t.save(),t.scale(1,1);var o=Math.floor(e.height/10),c=Math.floor(e.height/50);t.font=o+" "+c+"px Verdana",t.fillStyle="white",t.fillText("BULLETS: ".concat(i?"1":"0"),5,.89*e.height),t.fillText("SCORE: ".concat(n||"0"),5,.94*e.height),t.fillText("LIVES: ".concat(s?a-s:a),5,.99*e.height),t.restore()}(e,i,C,y.killCount,10,y.escapeCount)},z=function(e,t,i,n){var a=.05*n;e.save(),e.beginPath(),e.translate(Math.floor(t*p),Math.floor(i*p)),e.moveTo(0,0),e.arc(0,0,a,0,2*Math.PI),e.moveTo(0,0-a),e.lineTo(0,0+a),e.moveTo(0-a,0),e.lineTo(0+a,0),e.lineWidth=1,e.strokeStyle="red",e.stroke(),e.restore()},J=function(e,t){return D.length<5?(D.push(e),k.push(t)):(D.push(e),k.push(t),D.splice(0,1),k.splice(0,1)),[D.reduce((function(e,t){return e+t}))/D.length,k.reduce((function(e,t){return e+t}))/k.length]},F=(i(213),i(214),function(e){var t=e.id,i=e.header,a=e.score,s=e.body,o=e.onClick,c=e.buttonTxt;return Object(n.jsxs)("div",{className:"Menu",id:t,children:[Object(n.jsx)("span",{className:"MenuHeader",children:i}),a&&Object(n.jsx)("p",{id:"score"}),s&&s,Object(n.jsx)("button",{onClick:o,className:"PlayButton",id:"PlayButton",children:c})]})}),G=function(){var e=document.getElementById("gameCanvas");if(e){var t=e.getContext("2d");I(e.width,e.height,t)}},T=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),i=(t[0],t[1]),o=Object(a.useState)(void 0),c=Object(r.a)(o,2),h=c[0],A=c[1],u=Object(a.useState)("easy"),f=Object(r.a)(u,2),m=f[0],g=f[1];return Object(a.useEffect)((function(){d.a({flipHorizontal:!0,imageScaleFactor:1,maxNumBoxes:1,iouThreshold:.5,scoreThreshold:.85}).then((function(e){A(e),i(function(){var e=document.querySelector("#video");return e.width=500,e.height=500,navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){e.srcObject=t})).catch((function(e){console.log("Something went wrong!")})),e}())}))}),[]),Object(n.jsx)("div",{id:"container",className:"GameContainer",children:h?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("video",{autoPlay:!0,id:"video"}),Object(n.jsxs)("div",{className:"canvasWrapper",children:[Object(n.jsx)(F,{id:"StartGame",header:"DUCK SHOOTER",score:!1,body:Object(n.jsxs)("div",{children:[Object(n.jsx)("i",{children:"How to play"}),Object(n.jsx)("p",{children:"Aim with your hand"}),Object(n.jsx)("p",{children:"Shoot by spreading your fingers"}),Object(n.jsx)("p",{children:"Reload by clenching fingers together"}),Object(n.jsxs)("div",{className:"difficultSelect",children:[Object(n.jsx)("label",{htmlFor:"difficulty",children:"Select difficulty:"}),Object(n.jsxs)("select",{id:"difficulty",onChange:function(e){return g(e.target.value)},children:[Object(n.jsx)("option",{value:"easy",children:"Easy"}),Object(n.jsx)("option",{value:"medium",children:"Normal"}),Object(n.jsx)("option",{value:"impossible",children:"Impossible"})]})]})]}),onClick:function(){return Q(h,m)},buttonTxt:"Start game"}),Object(n.jsx)(F,{id:"GameOver",header:"Game over!",score:!0,body:Object(n.jsxs)("div",{className:"difficultSelect",children:[Object(n.jsx)("label",{htmlFor:"difficulty2",children:"Select difficulty:"}),Object(n.jsxs)("select",{id:"difficulty2",onChange:function(e){return g(e.target.value)},children:[Object(n.jsx)("option",{value:"easy",children:"Easy"}),Object(n.jsx)("option",{value:"medium",children:"Normal"}),Object(n.jsx)("option",{value:"impossible",children:"Impossible"})]})]}),onClick:function(){return Q(h,m)},buttonTxt:"Play again"}),Object(n.jsx)("canvas",{id:"videoCanvas"}),Object(n.jsx)("canvas",{id:"gameCanvas",onLoad:G()})]})]}):Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("span",{className:"LoadingSpan",children:"Game is initializing"}),Object(n.jsx)(l.a,{size:20,margin:15})]})})};var L=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(T,{})})};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.5f8c69fb.chunk.js.map